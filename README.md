# CompareStructAndMakeInfo

## 简介
- 此SDK主要用于比较结构体和传入的额外EXTRA数据，生成对应的比较结果
- 根据传入的值、使用的structTag不同，生成不同的比较结果

## 使用案例
请参考test文件

## 使用说明
### 方法说明
MakeInfo方法用于比较结构体生成并生成比较结果
### 参数说明
#### oldStruct和newStruct
1. oldStruct和newStruct需要传指针，否则会报错
2. oldStruct和newStruct可以传nil（一个为nil，则将另个结构体字段值全部打印；如果都为nil，则只对extra中的数据进行比对；如果两者都没传入，则记录“无任何关键数据发生变更”）
3. oldStruct和newStruct必须是同一结构体，需要比对的字段请打上"trans"或者"log"标签
    1. trans标签：用于翻译字段名
        1. 非必须
        2. 不存在的情况下则使用原始英文字段名
    2. log标签：用于标识该字段是否需要进行比对，且log标签分为以下两种
        2. need：打印文案"%v 从 %v 变更为 %v"
        3. special：打印文案"%v 发生了变更"
#### Extra
1. Extra可作为补充比较进行使用，非必须
2. 结构体中不存在的字段或者特殊字段，可以使用Extra进行比较
3. Extra结构体需要给全所有字段值
4. Extra结构体中的两个data字段可以填nil（有一个为nil，将会打印单一数据，打印的文案是“%v 值为 %v ”）
### 特殊字段转换功能
1. 为了减少业务逻辑中的代码量，当需要进行字段值映射的时候，可以给传入的结构体自定义结构体方法对字段值进行映射——方法的命名规则为："Change"+结构体中定义的字段名（区分大小写）
2. 自定义方法非必须，字段没有对应的自定义方法，则默认使用原值进行对比
3. 比如test示例中的Sex字段，就自定义了ChangeSex方法，将int类型的sex值“1、2”映射成了“男、女”值
4. 如果有自定义方法，则会将映射后的值进行对比（比如手机号这种，因为加密的关系，同一个手机号存在库里的加密值不同，会导致直接比较值不同，所以需要转换后再对比）
5. 自定义结构体方法需要在结构体内处理报错，且只返回一个转换完的结果（非复杂类型数据）
6. 自定义方法的参数请直接从结构体中获取，不得有入参
